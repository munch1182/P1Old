plugins {
    id 'com.android.application'
    id 'kotlin-android'
    id 'kotlin-kapt'
    id 'com.yanzhenjie.andserver'
}
apply from: '../gradle/commonbuildktx.gradle'

android {
    defaultConfig {
        versionName 'longtime'
    }
    buildFeatures {
        dataBinding = true
    }
}

kapt {
    arguments {
        arg("room.schemaLocation", "$projectDir/schemas".toString())
        arg("room.incremental", "true")
        arg("room.expandProjection", "true")
    }
}

dependencies {

    implementation project(':libfast')

    implementation rootProject.ext.dependencies['appcompat']
    implementation rootProject.ext.dependencies['material']
    implementation rootProject.ext.dependencies['gson']
    implementation rootProject.ext.dependencies['livedata_ktx']
    implementation rootProject.ext.dependencies['viewmodel_ktx']
    implementation rootProject.ext.dependencies['lifecycle_runtime_ktx']
    implementation rootProject.ext.dependencies['permissionx']
    implementation rootProject.ext.dependencies['tiny_pinyin']
    implementation rootProject.ext.dependencies['tiny_pinyin_dic']

    implementation rootProject.ext.dependencies['media2_session']

    debugImplementation rootProject.ext.dependencies['leakcanary']

    /*https://github.com/yanzhenjie/AndServer*/
    implementation 'com.yanzhenjie.andserver:api:2.1.9'
    kapt 'com.yanzhenjie.andserver:processor:2.1.9'

    api rootProject.ext.dependencies['room']
    api rootProject.ext.dependencies['room_ktx']
    kapt rootProject.ext.dependencies['room_compiler']

    /*https://github.com/Bilibili/ijkplayer*/
    implementation 'tv.danmaku.ijk.media:ijkplayer-java:0.8.8'
    implementation 'tv.danmaku.ijk.media:ijkplayer-armv7a:0.8.8'
    implementation 'tv.danmaku.ijk.media:ijkplayer-arm64:0.8.8'
}